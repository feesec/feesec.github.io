import{c as y,j as r,e as M,r as j}from"./index-C6lTiA6Z.js";import{C as w}from"./chevron-right-Ct2pFrdj.js";/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],k=y("chevron-left",C);function E({currentPage:s,totalPages:o,totalItems:i,startIndex:x,endIndex:b,hasNext:n,hasPrev:c,getPageNumbers:p,goToPage:a}){if(o<=1)return null;const t=p(5);return r.jsxs("nav",{className:"flex items-center justify-between border-t border-border pt-6",children:[r.jsxs("div",{className:"text-sm text-muted-foreground",children:["显示第 ",x+1,"-",Math.min(b,i)," 篇，共 ",i," 篇文章"]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsxs("button",{onClick:()=>c&&a(s-1),disabled:!c,className:`text-muted-foreground transition-colors group inline-flex items-center gap-1 text-sm font-medium px-2 py-1 ${c?"hover:text-primary cursor-pointer":"cursor-not-allowed opacity-50"}`,title:"上一页",children:[r.jsx(k,{className:"h-4 w-4"}),c&&r.jsx("span",{className:"group-hover:border-b-2 group-hover:border-primary/50 pb-0.5 transition-all duration-200",children:"上一页"}),!c&&r.jsx("span",{children:"上一页"})]}),r.jsxs("div",{className:"flex items-center gap-2 mx-4",children:[t[0]>1&&r.jsxs(r.Fragment,{children:[r.jsx("button",{onClick:()=>a(1),className:"text-muted-foreground hover:text-primary transition-colors group text-sm font-medium",title:"第一页",children:r.jsx("span",{className:"group-hover:border-b-2 group-hover:border-primary/50 pb-0.5 transition-all duration-200",children:"1"})}),t[0]>2&&r.jsx("span",{className:"text-muted-foreground text-sm",children:"..."})]}),t.map(e=>r.jsx("button",{onClick:()=>a(e),className:`text-sm font-medium transition-colors group ${e===s?"text-primary cursor-default":"text-muted-foreground hover:text-primary cursor-pointer"}`,title:`第 ${e} 页`,children:r.jsx("span",{className:`transition-all duration-200 ${e===s?"border-b-2 border-primary/50 pb-0.5":"group-hover:border-b-2 group-hover:border-primary/50 pb-0.5"}`,children:e})},e)),t[t.length-1]<o&&r.jsxs(r.Fragment,{children:[t[t.length-1]<o-1&&r.jsx("span",{className:"text-muted-foreground text-sm",children:"..."}),r.jsx("button",{onClick:()=>a(o),className:"text-muted-foreground hover:text-primary transition-colors group text-sm font-medium",title:`最后一页 (${o})`,children:r.jsx("span",{className:"group-hover:border-b-2 group-hover:border-primary/50 pb-0.5 transition-all duration-200",children:o})})]})]}),r.jsxs("button",{onClick:()=>n&&a(s+1),disabled:!n,className:`text-muted-foreground transition-colors group inline-flex items-center gap-1 text-sm font-medium px-2 py-1 ${n?"hover:text-primary cursor-pointer":"cursor-not-allowed opacity-50"}`,title:"下一页",children:[n&&r.jsx("span",{className:"group-hover:border-b-2 group-hover:border-primary/50 pb-0.5 transition-all duration-200",children:"下一页"}),!n&&r.jsx("span",{children:"下一页"}),r.jsx(w,{className:"h-4 w-4"})]})]})]})}function F({items:s,itemsPerPage:o,useUrlParams:i=!0}){const[x,b]=M(),n=i?parseInt(x.get("page")||"1",10):1,[c,p]=j.useState(Math.max(1,n)),a=s.length,t=Math.ceil(a/o),e=Math.max(1,Math.min(c,t||1)),h=(e-1)*o,f=h+o,v=j.useMemo(()=>s.slice(h,f),[s,h,f]),N=d=>{const m=Math.max(1,Math.min(d,t));p(m),i&&b(u=>{const l=new URLSearchParams(u);return m===1?l.delete("page"):l.set("page",m.toString()),l}),window.scrollTo({top:0,behavior:"smooth"})};return j.useEffect(()=>{i&&n!==e&&p(n)},[n,e,i]),{currentPage:e,totalPages:t,totalItems:a,startIndex:h,endIndex:f,currentItems:v,goToPage:N,getPageNumbers:(d=5)=>{const m=[];let u=Math.max(1,e-Math.floor(d/2)),l=Math.min(t,u+d-1);l-u+1<d&&(u=Math.max(1,l-d+1));for(let g=u;g<=l;g++)m.push(g);return m},hasNext:e<t,hasPrev:e>1}}export{E as P,F as u};
