import{g as w,c as A,v as d,t as v}from"./vendor-CICnutck.js";const T={};function k(h){const t=h||T,n=t.aliases,a=t.detect||!1,i=t.languages||w,f=t.plainText,r=t.prefix,x=t.subset;let o="hljs";const u=A(i);if(n&&u.registerAlias(n),r){const g=r.indexOf("-");o=g===-1?r:r.slice(0,g)}return function(g,y){d(g,"element",function(e,O,c){if(e.tagName!=="code"||!c||c.type!=="element"||c.tagName!=="pre")return;const s=b(e);if(s===!1||!s&&!a||s&&f&&f.includes(s))return;Array.isArray(e.properties.className)||(e.properties.className=[]),e.properties.className.includes(o)||e.properties.className.unshift(o);const m=v(e,{whitespace:"pre"});let l;try{l=s?u.highlight(s,m,{prefix:r}):u.highlightAuto(m,{prefix:r,subset:x})}catch(N){const p=N;if(s&&/Unknown language/.test(p.message)){y.message("Cannot highlight as `"+s+"`, itâ€™s not registered",{ancestors:[c,e],cause:p,place:e.position,ruleId:"missing-language",source:"rehype-highlight"});return}throw p}!s&&l.data&&l.data.language&&e.properties.className.push("language-"+l.data.language),l.children.length>0&&(e.children=l.children)})}}function b(h){const t=h.properties.className;let n=-1;if(!Array.isArray(t))return;let a;for(;++n<t.length;){const i=String(t[n]);if(i==="no-highlight"||i==="nohighlight")return!1;!a&&i.slice(0,5)==="lang-"&&(a=i.slice(5)),!a&&i.slice(0,9)==="language-"&&(a=i.slice(9))}return a}export{k as r};
